<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Pytangular</title>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<link href="xeditable.css" rel="stylesheet">
		<style>
			.container {
				width: 25em;
				display: inline-block;
				vertical-align: top;
			}
			div[ng-app] { margin: 10px; }
			form[name="aForm"] > div {
			  height: auto;
			  padding: 5px 0;
			}

			form[name="aForm"] .title {
			  display: inline-block;
			  font-weight: bold;
			  padding-top: 5px;
			  vertical-align: top;
			  min-width: 90px;
			}

			form[name="aForm"] .editable {
			  display: inline-block;
			  padding-top: 5px;
			  vertical-align: top;
			}

			form[name="aForm"] select {
			  width: 120px;
			}
			div[ng-app] {
				margin: 50px;
			}
		</style>
	</head>
	<body>
		<div ng-app="dvApp" ng-controller="personController">
			<h1>Pytangular examples</h1>
			<div class="container">
				<pytangular form="myForm"
							model="pytangular"
							fieldvalues="values">
				</pytangular>
				<pytangular form="editableForm"
							xeditable="true"
							model="pytangular"
							fieldvalues="values">
				</pytangular>
			</div>
			<div class="container">
				<h3>User info:</h3>
				<p>Name: {{ pytangular.name }}</p>
				<p>Fone: {{ pytangular.fone }}</p>
				<p>Age: {{ pytangular.age }}</p>
				<p>Email: {{ pytangular.email }}</p>
				<p>Password: {{ pytangular.pwd }}</p>
				<p>Kind: {{ pytangular.kind }}</p>
				<p>Message: {{ pytangular.msg }}</p>
				<p>Like? {{ pytangular.like1 }}</p>
				<p>Really like? {{ pytangular.like2 }}</p>
			</div>
		</div>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.9/angular.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.6.0/ui-bootstrap-tpls.min.js"></script>
		<script src="xeditable.min.js"></script>
		<script>
			var dvApp = angular.module("dvApp", ['xeditable', 'ui.bootstrap', 'ui.bootstrap.popover']);
			dvApp.run(function(editableOptions) {
				editableOptions.theme = 'bs3'; // bootstrap3 theme. Can be also 'bs2', 'default'
			});
		</script>
		<script src="pytangular.js"></script>
		<script>
		dvApp.controller('personController', function ($scope, $filter) {
			var aFrom = [
				{
					widget: 'text',
					label: 'Name',
					name: 'name',
					model: 'name',
					popover: {msg: 'Type your name here!', placement: 'top'},
					input_attrs: {
						'title': 'This is a title on field and label',
						'data-test': 'test',
						'style': 'width: 20em;',
					}
				},
				{
					widget: 'tel',
					label: 'Fone',
					name: 'fone',
					model: 'fone',
					popover: {msg: 'Type your fone', placement: 'bottom'},
					input_attrs:{
						'data-test': 'test',
						'style': 'width: 12em;',
					}
				},
				{
					widget: 'number',
					label: 'Age',
					name: 'age',
					model: 'age',
					popover: {msg: 'Type your age', placement: 'right'},
					input_attrs: {
						'data-test': 'test',
						'data-ng-teste2': 'outro-teste',
						'style': 'width: 4em;',
					},
				},
				{
					widget: 'email',
					label: 'E-mail',
					name: 'email',
					model: 'email',
					helperText: 'Type your e-mail',
					input_attrs: {
						'style': 'width: 14em;',
					},
				},
				{
					widget: 'password',
					label: 'Password',
					name: 'pwd',
					model: 'pwd',
					helperText: 'Mix numbers and letters',
					input_attrs: {
						'style': 'width: 10em;',
					},
				},
				{
					widget: 'select',
					label: 'Kind',
					name: 'kind',
					model: 'kind',
					options: 'kindoptions',
					helperText: 'Your gender',
					input_attrs: {
						'style': 'width: 8em;',
					},
				},
				{
					widget: 'textarea',
					label: 'Message',
					name: 'msg',
					model: 'msg',
					popover: {msg: 'A message, not a book!', placement: 'top'},
					input_attrs:{
						'cols': '50',
						'rows': '5',
					},
				},
				{
					widget: 'checkbox',
					label: 'Like this?',
					name: 'like1',
					model: 'like1',
					title: '',
				},
				{
					widget: 'checkbox',
					label: 'Really like this?',
					name: 'like2',
					model: 'like2',
					'true-value': 'Yes',
					'false-value': 'No',
					title: '',
				},
				{
					widget: 'typeahead',
					label: 'Favorite color',
					name: 'color',
					model: 'color',
					popover: {msg: 'This is a typeahead field!', trigger:'focus', placement: 'top'},
					typeaheadList: 'myColors',
					input_attrs:{
						'title': 'ui.bootstrap typeahead',
					},
				}
			];

			var cardFields = [];
			cardFields.push(
				{
					widget: 'text',
					label: 'Credit card Number',
					name: 'card',
					model: 'card',
					input_attrs: {
						'data-test': 'test',
						'style': 'width: 20em;',
					}
				}
			);
			cardFields.push(
				{
					widget: 'text',
					label: '3 digites security code',
					name: 'code',
					model: 'code',
					input_attrs: {
						'data-test': 'test',
						'style': 'width: 4em;',
					}
				}
			);

			var fieldSets = [];
			$scope.myColors = [
				'Blue',
				'Aqua',
				'Brown',
				'Cian',
				'Yellow',
				'Black',
			];

			$scope.kindoptions = [
				{ label: 'Male', value: 'Boy'},
				{ label: 'Female', value: 'Girl'},
				{ label: 'Both', value: 'LOL!'},
			];

			fieldSets.push({fields: aFrom, legend: 'Simple web form'});
			fieldSets.push({fields: cardFields, legend: 'Payment information'});

			$scope.myForm = { name: 'aForm', fnSubmit: 'call()', fieldsets: fieldSets,
								buttons: [
									{
										type: 'submit',
										class: 'primary',
										icon: 'save',
										label: 'Save',
									},
									{
										type: 'reset',
										class: 'danger',
										icon: 'remove-sign',
										label: 'Remove',
									},
									{
										class: 'success',
										icon: 'plus-sign',
										label: 'Add',
										attrs: {'ng-click': 'callMe()'},
									},

								],
			};

			$scope.editableForm = { name: 'bForm', fnSubmit: 'call()', fieldsets: fieldSets};

			$scope.values = [
				{name: 'John Doe'},
				{fone: '5544-1234'},
				{age: 35},
				{email: 'john@gmail.com'},
				{pwd: 'bruhaha'},
				{kind: 'Boy'},
				{msg: "This is John Doe's message!"},
				{like1: true},
				{like2: true},
				{color: 'Blue'},
				{card: '5033-5544-3585'},
				{code: '585'},
			];
			$scope.callMe = function () {
				console.log("Called");
			}
			$scope.pytangular = {};
		});
		</script>
	</body>
</html>
